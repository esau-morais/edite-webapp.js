[{"/home/esau-morais/Desktop/edite/src/components/FileUploader/index.js":"1","/home/esau-morais/Desktop/edite/src/components/FileUploader/fileUploader.styles.js":"2","/home/esau-morais/Desktop/edite/src/styles/global.js":"3","/home/esau-morais/Desktop/edite/src/App.js":"4","/home/esau-morais/Desktop/edite/src/components/Spinner/index.js":"5","/home/esau-morais/Desktop/edite/src/components/Toolbar/Left/index.js":"6","/home/esau-morais/Desktop/edite/src/components/Toolbar/toolbar.styles.js":"7","/home/esau-morais/Desktop/edite/src/components/Toolbar/Right/tools.js":"8","/home/esau-morais/Desktop/edite/src/components/Toolbar/Right/toolItem.js":"9","/home/esau-morais/Desktop/edite/src/components/Select/index.js":"10","/home/esau-morais/Desktop/edite/src/components/Select/select.styles.js":"11","/home/esau-morais/Desktop/edite/src/components/Tooltip/tooltip.styles.js":"12","/home/esau-morais/Desktop/edite/src/components/Toolbar/Left/tools.js":"13","/home/esau-morais/Desktop/edite/src/components/Mobile/index.js":"14","/home/esau-morais/Desktop/edite/src/components/Modal/index.js":"15","/home/esau-morais/Desktop/edite/src/components/Slider/index.js":"16","/home/esau-morais/Desktop/edite/src/components/Toolbar/Right/index.js":"17","/home/esau-morais/Desktop/edite/src/index.js":"18","/home/esau-morais/Desktop/edite/src/components/index.js":"19","/home/esau-morais/Desktop/edite/src/components/Toolbar/Left/toolItem.js":"20","/home/esau-morais/Desktop/edite/src/components/Tooltip/index.js":"21","/home/esau-morais/Desktop/edite/src/components/Switch/switch.styles.js":"22","/home/esau-morais/Desktop/edite/src/hooks/useMediaQuery.js":"23","/home/esau-morais/Desktop/edite/src/services/api.js":"24","/home/esau-morais/Desktop/edite/src/components/Modal/modal.styles.js":"25","/home/esau-morais/Desktop/edite/src/i18n/index.js":"26","/home/esau-morais/Desktop/edite/src/components/Switch/index.js":"27","/home/esau-morais/Desktop/edite/src/styles/themes/light.js":"28","/home/esau-morais/Desktop/edite/src/components/Slider/slider.styles.js":"29","/home/esau-morais/Desktop/edite/src/styles/themes/dark.js":"30","/home/esau-morais/Desktop/edite/src/hooks/useThemeSwitcher.js":"31","/home/esau-morais/Desktop/edite/src/reportWebVitals.js":"32"},{"size":6848,"mtime":1609446043877,"results":"33","hashOfConfig":"34"},{"size":2653,"mtime":1609445190408,"results":"35","hashOfConfig":"34"},{"size":1808,"mtime":1609173258558,"results":"36","hashOfConfig":"34"},{"size":1796,"mtime":1609480568482,"results":"37","hashOfConfig":"34"},{"size":879,"mtime":1609017272601,"results":"38","hashOfConfig":"34"},{"size":332,"mtime":1609168534774,"results":"39","hashOfConfig":"34"},{"size":1759,"mtime":1609171752972,"results":"40","hashOfConfig":"34"},{"size":2448,"mtime":1609127619065,"results":"41","hashOfConfig":"34"},{"size":702,"mtime":1609003120242,"results":"42","hashOfConfig":"34"},{"size":270,"mtime":1609096707295,"results":"43","hashOfConfig":"34"},{"size":473,"mtime":1609171965369,"results":"44","hashOfConfig":"34"},{"size":1472,"mtime":1609011067325,"results":"45","hashOfConfig":"34"},{"size":4805,"mtime":1609450219918,"results":"46","hashOfConfig":"34"},{"size":490,"mtime":1609178525143,"results":"47","hashOfConfig":"34"},{"size":652,"mtime":1609105349475,"results":"48","hashOfConfig":"34"},{"size":554,"mtime":1609105379978,"results":"49","hashOfConfig":"34"},{"size":475,"mtime":1609105514776,"results":"50","hashOfConfig":"34"},{"size":646,"mtime":1609168178959,"results":"51","hashOfConfig":"34"},{"size":1025,"mtime":1609449410657,"results":"52","hashOfConfig":"34"},{"size":749,"mtime":1609011931122,"results":"53","hashOfConfig":"34"},{"size":450,"mtime":1609001828128,"results":"54","hashOfConfig":"34"},{"size":1146,"mtime":1609255389037,"results":"55","hashOfConfig":"34"},{"size":570,"mtime":1609100252820,"results":"56","hashOfConfig":"34"},{"size":127,"mtime":1608662622945,"results":"57","hashOfConfig":"34"},{"size":1051,"mtime":1609172662376,"results":"58","hashOfConfig":"34"},{"size":1645,"mtime":1608304368601,"results":"59","hashOfConfig":"34"},{"size":312,"mtime":1609168961745,"results":"60","hashOfConfig":"34"},{"size":215,"mtime":1609520814925,"results":"61","hashOfConfig":"34"},{"size":593,"mtime":1609098913716,"results":"62","hashOfConfig":"34"},{"size":212,"mtime":1609520801869,"results":"63","hashOfConfig":"34"},{"size":449,"mtime":1609173913904,"results":"64","hashOfConfig":"34"},{"size":362,"mtime":1608124818795,"results":"65","hashOfConfig":"34"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"69"},"b44cpb",{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"79"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"79"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"79"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"79"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"79"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"119"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},"/home/esau-morais/Desktop/edite/src/components/FileUploader/index.js",["136"],"import { useState, useRef, useContext, useEffect } from 'react';\n// i18n\nimport { useTranslation } from 'react-i18next';\n// Providers\nimport { ToolsContext } from 'App';\n// Custom Hooks\nimport useProgressiveImg from 'hooks/useProgressiveImg';\n// Icons\nimport { ReactComponent as Logo } from 'assets/Logo.svg';\nimport { ReactComponent as Upload } from 'assets/Upload.svg';\nimport { ReactComponent as Drag } from 'assets/Drag.svg';\nimport { ReactComponent as Delete } from 'assets/Delete.svg';\n// Components (children)\nimport Slider from '../Slider';\n// CSS filters\nimport DEFAULT_OPTIONS from '../Toolbar/Right/options.json';\n// Components (styles)\nimport { Box, ImageBox, UploadState } from './fileUploader.styles';\n// Api\nimport api from 'services/api';\n\nfunction FileUploader() {\n  // i18n\n  const { t } = useTranslation();\n  // Image uploading states\n  const dndRef = useRef(); // Access DnD element reference and its current state\n  const [isDragging, setIsDragging] = useState(false);\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadedImageUrl, setUploadedImageUrl] = useState('');\n  const [src, { blur }] = useProgressiveImg(\n    '',\n    uploadedImageUrl\n  );\n  const [uploadedImageName, setUploadedImageName] = useState('image');\n  // CSS Filters\n  const { activeTool } = useContext(ToolsContext);\n  const [options, setOptions] = useState(DEFAULT_OPTIONS);\n  const selectedFilter = options[activeTool];\n\n  // DnD (Drag 'n' drop) file upload\n  const handleDragIn = e => {\n    // Prevent default events and file be opened\n    e.preventDefault();\n    e.stopPropagation();\n    // If a file at least one file was found\n    if (e.dataTransfer.items) setIsDragging(true);\n  }\n  const handleDragOut = e => {\n    // Prevent default events and file be opened\n    e.preventDefault();\n    e.stopPropagation();\n    // If the user cancels/stops draggingÂ¹\n    setIsDragging(false);\n  }\n  const handleDrag = e => {\n    // Prevent default events and file be opened\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  const handleDrop = async e => {\n    // Prevent default events and file be opened\n    e.preventDefault();\n    e.stopPropagation();\n    // If the user drops the file\n    if (e.dataTransfer.files) {\n      let formData = new FormData();\n      formData.append('file', e.dataTransfer.files[0]);\n      formData.append('upload_preset', 'Edite_App');\n      setIsUploading(true);\n\n      let data = await api.post('/image/upload', formData);\n\n      let file = data.data;\n\n      setIsDragging(false);\n      setIsUploading(false);\n      setUploadedImageUrl(file.secure_url);\n      setUploadedImageName(file.original_filename);\n    }\n  }\n\n  useEffect(() => {\n    // Get the mounted DnD instance as its `current`\n    let dragzoneEl = dndRef.current;\n\n    // \"Watch\" all the events\n    dragzoneEl.addEventListener('dragenter', handleDragIn);\n    dragzoneEl.addEventListener('dragleave', handleDragOut);\n    dragzoneEl.addEventListener('dragover', handleDrag);\n    dragzoneEl.addEventListener('drop', handleDrop);\n    // Clean up all the events\n    return () => {\n      dragzoneEl.removeEventListener('dragenter', handleDragIn);\n      dragzoneEl.removeEventListener('dragleave', handleDragOut);\n      dragzoneEl.removeEventListener('dragover', handleDrag);\n      dragzoneEl.removeEventListener('drop', handleDrop);\n    }\n  }, [])\n\n  // Get the file's data and send to clodinary\n  const onFileChange = async e => {\n    let formData = new FormData();\n    formData.append('file', e.target.files[0]);\n    formData.append('upload_preset', 'Edite_App');\n    setIsUploading(true);\n\n    let data = await api.post('/image/upload', formData);\n\n    let file = data.data;\n\n    setIsDragging(false);\n    setIsUploading(false);\n    setUploadedImageUrl(file.secure_url);\n    setUploadedImageName(file.original_filename);\n  }\n\n  // Get slider value according to the tools\n  const handleSliderChange = ({ target }) => {\n    setOptions(prevOptions => {\n      return prevOptions.map((option, index) => {\n        if (index !== activeTool) return option\n        return { ...option, value: target.value }\n      })\n    })\n  }\n\n  // Get CSS filters and return as a object\n  const handleImageStyling = () => {\n    const filters = options.map(option => {\n      return `${option.property}(${option.value}${option.unit})`\n    })\n\n    return filters.join(' ')\n  }\n\n  return (\n    <Box\n      className={isDragging ? 'box__dragging' : ''}\n      ref={dndRef}\n    >\n      {/* If the image was not uploaded yet... */}\n      {!uploadedImageUrl ? (\n        <>\n          {(!isUploading && !isDragging) && (\n            <div className=\"input__box\">\n              <Logo />\n              <input\n               type=\"file\"\n                name=\"image[]\"\n                id=\"image\"\n                accept=\"image/png, image/jpeg\"\n                onChange={onFileChange}\n              />\n              <div className=\"box__upload_text\">\n                <span>\n                  {t('DND.Main')}\n                  <span>\n                    {t('DND.Or')}\n                  </span>\n                </span>\n                <label htmlFor=\"image\" tabIndex=\"0\">\n                  {t('DND.Label')}\n                </label>\n              </div>\n            </div>\n          )}\n        </>\n      ) : (\n        <>\n          {/* If the user drops an image if there's already one uploaded */}\n          {!isDragging && (\n            <ImageBox>\n              <img\n                src={uploadedImageUrl}\n                alt={uploadedImageName}\n                style={{\n                  filter: blur\n                    ? 'blur(1.25rem)' // Progressive image loading\n                    : handleImageStyling(),\n                  transition: blur\n                    ? 'none'\n                    : 'filter .3s ease-out'\n                }}\n              />\n              <button onClick={() => setUploadedImageUrl('')}>\n                <Delete />\n              </button>\n            </ImageBox>\n          )}\n        </>\n      )}\n      {/* If the image still being dragged and not loading... */}\n      {(isDragging && !isUploading) && (\n        <UploadState>\n          <Drag />\n          <strong>Drag & Drop your image here</strong>\n        </UploadState>\n      )}\n      {/* If the image still loading and not being dragged... */}\n      {(isUploading && !isDragging) && (\n        <UploadState>\n          <Upload />\n          <strong>{t('DND.Uploading')}</strong>\n          <span>{t('DND.UploadingTwo')}</span>\n        </UploadState>\n      )}\n      {/* If the upload finished and the filters tool is open... */}\n      {uploadedImageUrl && (\n        <Slider\n          min={selectedFilter?.range.min}\n          max={selectedFilter?.range.max}\n          value={selectedFilter?.value}\n          handleChange={handleSliderChange}\n        />\n      )}\n    </Box>\n  )\n}\n\nexport default FileUploader;\n",["137","138"],"/home/esau-morais/Desktop/edite/src/components/FileUploader/fileUploader.styles.js",[],"/home/esau-morais/Desktop/edite/src/styles/global.js",[],["139","140"],"/home/esau-morais/Desktop/edite/src/App.js",[],"/home/esau-morais/Desktop/edite/src/components/Spinner/index.js",[],["141","142"],"/home/esau-morais/Desktop/edite/src/components/Toolbar/Left/index.js",[],"/home/esau-morais/Desktop/edite/src/components/Toolbar/toolbar.styles.js",[],"/home/esau-morais/Desktop/edite/src/components/Toolbar/Right/tools.js",[],"/home/esau-morais/Desktop/edite/src/components/Toolbar/Right/toolItem.js",[],"/home/esau-morais/Desktop/edite/src/components/Select/index.js",[],["143","144"],"/home/esau-morais/Desktop/edite/src/components/Select/select.styles.js",[],"/home/esau-morais/Desktop/edite/src/components/Tooltip/tooltip.styles.js",[],"/home/esau-morais/Desktop/edite/src/components/Toolbar/Left/tools.js",[],"/home/esau-morais/Desktop/edite/src/components/Mobile/index.js",[],"/home/esau-morais/Desktop/edite/src/components/Modal/index.js",[],"/home/esau-morais/Desktop/edite/src/components/Slider/index.js",[],"/home/esau-morais/Desktop/edite/src/components/Toolbar/Right/index.js",[],"/home/esau-morais/Desktop/edite/src/index.js",["145"],"/home/esau-morais/Desktop/edite/src/components/index.js",[],"/home/esau-morais/Desktop/edite/src/components/Toolbar/Left/toolItem.js",[],"/home/esau-morais/Desktop/edite/src/components/Tooltip/index.js",[],"/home/esau-morais/Desktop/edite/src/components/Switch/switch.styles.js",[],"/home/esau-morais/Desktop/edite/src/hooks/useMediaQuery.js",[],"/home/esau-morais/Desktop/edite/src/services/api.js",[],["146","147"],"/home/esau-morais/Desktop/edite/src/components/Modal/modal.styles.js",[],"/home/esau-morais/Desktop/edite/src/i18n/index.js",[],"/home/esau-morais/Desktop/edite/src/components/Switch/index.js",[],"/home/esau-morais/Desktop/edite/src/styles/themes/light.js",[],"/home/esau-morais/Desktop/edite/src/components/Slider/slider.styles.js",[],"/home/esau-morais/Desktop/edite/src/styles/themes/dark.js",[],"/home/esau-morais/Desktop/edite/src/hooks/useThemeSwitcher.js",[],"/home/esau-morais/Desktop/edite/src/reportWebVitals.js",[],{"ruleId":"148","severity":1,"message":"149","line":30,"column":10,"nodeType":"150","messageId":"151","endLine":30,"endColumn":13},{"ruleId":"152","replacedBy":"153"},{"ruleId":"154","replacedBy":"155"},{"ruleId":"152","replacedBy":"156"},{"ruleId":"154","replacedBy":"157"},{"ruleId":"152","replacedBy":"158"},{"ruleId":"154","replacedBy":"159"},{"ruleId":"152","replacedBy":"160"},{"ruleId":"154","replacedBy":"161"},{"ruleId":"148","severity":1,"message":"162","line":4,"column":8,"nodeType":"150","messageId":"151","endLine":4,"endColumn":12},{"ruleId":"152","replacedBy":"163"},{"ruleId":"154","replacedBy":"164"},"no-unused-vars","'src' is assigned a value but never used.","Identifier","unusedVar","no-native-reassign",["165"],"no-negated-in-lhs",["166"],["165"],["166"],["165"],["166"],["165"],["166"],"'i18n' is defined but never used.",["165"],["166"],"no-global-assign","no-unsafe-negation"]